<!DOCTYPE html>
<html lang="en">
<head>
	<title>JS FE</title> 
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1"> 
</head>
<body>
	Hello world!



<script>

// string methods

// almost all methods return new string


let message = 'Hello World';

//charAt()
console.log(message.charAt(0));

// charCodeAt()
console.log(message.charCodeAt(0)); // -, i

//concat()
let name = 'User';
console.log(message.concat(' My name is ', name)); /// `{message} My name is ${name}`

// endsWith() case sensitive
console.warn(message.endsWith('World')); // true
console.warn(message.endsWith('!')); // false

// fromCharCode()
console.log(String.fromCharCode(72));

// includes()
console.log(message.includes('ll'));


//indexOf() lastIndexOf
console.log(message.indexOf('l'));
console.log(message.lastIndexOf('l'));

// match()
console.log(message.match(/l/g)); // .length returns 3

//repeat()
console.log(message.repeat(5));

// replace
console.log(message.replace(/l/g, 'L'));

// search
console.log(message.search('l'));

// slice  (start, end[not incl])
let msg = message.slice(2,4);
console.log(msg);

// split
console.log(message.split(' '));


// startsWith()
console.log(message.startsWith('Hello'));

// substr (start, count)
console.log(message.substr(0, 5));

// substring(strt,end[not incl]), can swap args
console.log(message.substring(9,4));

// toLowerCase()
console.log(message.toLowerCase());

// toUpperCase()
console.log(message.toUpperCase());

// trim() trimEnd() trimStart()

let longstr = `
	    ksjdjfk		   jdsfhdff
			          `
console.log(longstr);
console.log(longstr.trim());


// http or https

function checkSecureConnection(url){
	return url.startsWith('https');
}
console.warn(checkSecureConnection('http://mysite.com'));
console.warn(checkSecureConnection('https://mysite.com'));

// check image

function checkImageFormat(filename){
	if(filename.endsWith('.jpg') || filename.endsWith('.png')){
		console.log('Uploaded successful!');
	}
	else{
		console.error('File format is not supported');
	}
}

checkImageFormat('icon.png');
checkImageFormat('img_324324.psd');


// active menu link

let menulinks = [ 'about', 'catalog', 'cart', 'blog'];

function setActiveLink(url){
	let active = '';
	for(let link of menulinks){
		if(url.includes(link)){
			active = link;
		}
	}
	if(active){
		// set active class
		console.log(`Active link for page ${active}`);
	}
	else{
		console.log('Active Home page');
	}
}

setActiveLink('http://myshop.com/catalog/category/bikes');
setActiveLink('http://myshop.com/about_us');
setActiveLink('http://myshop.com/blog/post_111');
setActiveLink('http://myshop.com/');

// check is anagram

function isAnagram(str1, str2){
	if(str1.length !== str2.length){
		return false;
	}
	let arr1 = str1.toLowerCase().split('');
	let arr2 = str2.toLowerCase().split('');

	arr1.sort();
	arr2.sort();

	str1 = arr1.join('');
	str2 = arr2.join('');

	return str1 == str2;
}

console.log(isAnagram('Пасечник', 'песчаник'));
console.log(isAnagram('норматив', 'минотавр'));
console.log(isAnagram('мама', 'рама'));
console.log(isAnagram('mama', 'llama'));


// count Letter in Word
// loop
// function countLetter(str, letter){
// 	let count = 0;
// 	for(let i = 0; i < str.length; i++){
// 		if(str.charAt(i).toLowerCase() === letter.toLowerCase()){
// 			count += 1;
// 		}
// 	}
// 	console.log(`${count} ${letter}'s in ${str}`);
// }

// function countLetter(str, letter){
// 	let count = 0;
// 	for(let char of str){
// 		if(char.toLowerCase() === letter.toLowerCase()){
// 			count++;
// 		}
// 	}
// 	console.log(`${count} ${letter}'s in ${str}`);
// }

function countLetter(str, letter){
	let regexp = new RegExp(letter, 'gi');
	let count = str.match(regexp).length;
	console.log(`${count} ${letter}'s in ${str}`);
}

countLetter('Bubble', 'b');

// input type tel validation

function validateTel(tel){
	if(tel.match(/\+(38)\s[0-9]{3}\-[0-9]{3}\-[0-9]{2}\-[0-9]{2}/)){
		console.log('Validated Successful');
	}
	else{
		console.warn('Type your phone in format +38 000-000-00-00');
	}
}

validateTel('+38000-000-00-00');
validateTel('+38 000-000-00-00');


// input type email

function validateEmail(email){
	if(email.match(/[a-z]+\@[a-z]{3,}\.[a-z]{2,}/)){
		console.log('Validated Successful');
	}
	else{
		console.warn('Type your email correctly');
	}
}

validateEmail('prepod@gmail.com');
validateEmail('222@gl.m');


</script>

</body>
</html>