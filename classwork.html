<!DOCTYPE html>
<html lang="en">
<head>
	<title>JS FE</title> 
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1"> 
</head>
<body>
	Hello world!



<script>

// sum + using memory for prev calls

function sum(){
	let memo = [];
	return function (start,end){
		let sum = 0;
		
		if(memo.length == 0){
			for(let i = start; i <= end; i++){
				sum += i;
			}
		}
		else{
			memo.sort((a,b) => {
				if(a.end < b.end){
					return 1;
				}
				else if(a.end > b.end){
					return -1;
				}
				else{
					return 0;
				}
			});
			memo.forEach(prevSum => {
				if(prevSum.start == start && prevSum.end <= end){
					sum = prevSum.sum;
					let start2 = prevSum.end + 1;
					for(let i = start2; i <= end; i++){
						sum += i;
					}
				}
				else if(prevSum.start > start && prevSum.end <= end){
					sum = prevSum.sum;
					let prevStart = prevSum.start;
					let prevEnd = prevSum.end + 1;
					for(let i = start; i < prevStart; i++){
						sum += i; // 1+2
					}
					for(let j = prevEnd; j <= end; j++){ // 21 ... 30
						sum += j;
					}
				}
			});
		}
		
		memo.push({
			start: start,
			end: end,
			sum: sum
		});
		console.log(sum);
		console.log(memo);
	}
}

let memoizedSum = sum();
memoizedSum(3,5);1
memoizedSum(3,10);
memoizedSum(3,20);
memoizedSum(1,30);

// Напишите функцию words(),  которая в зависимости от переданного в нее целочисленного аргумента n, 
// будет выводить слово «товар» в нужной форме («12 товаров», но «22 товара»). По умолчанию аргумент n должен иметь значение 0

function words(n){
	let word = 'товар';
	let m = n;
	// n = n%100;
	if(n > 1 && n < 5 || n > 20 && n%10 == 2 || n%10 == 3 || n%10 == 4){
		word += 'a';
	}
	else if(n >= 5 && n <= 20 || n > 20 && n%10 == 5 || n%10 == 6 || n%10 == 7 || n%10 == 8 || n%10 == 9 || n%10 == 0){
		word += 'ов';
	}
	console.log(`${m} ${word}`);
}

words(1);
words(2);
words(5);
words(11);
words(12);
words(21);
words(22);
words(35);
words(44);
words(50);
words(101);
words(102);
words(112);
words(202);


// посчитать в каком количестве цифр от 1 до 1000 есть цифра 3 (при этом 33, 333, 233 - считается 1 тройка)

// function countThrees(){
// 	let count = 0;
// 	for(let i = 1; i <= 1000; i++){
// 		if(i.toString().includes('3')){
// 			count++;
// 		}
// 	}
// 	console.log(count);
// }

function countThrees(){
	let count = 0;
	for(let i = 1; i <= 1000; i++){
		let str = '' + i;
		let wasFoundThree = false;
		for(let j = 0; j < str.length; j++){
			if(str[j] === '3' && !wasFoundThree){
				count++;
				wasFoundThree = true;
				// break;
			}
		}
	}
	console.log(count);
}

countThrees();

// Дан массив цветов colors = ['magenta', 'cyan', 'firebrick', 'springgreen', 'skyblue'] выводите цвета из него по каждому вызову функции


let colors = ['magenta', 'cyan', 'firebrick', 'springgreen', 'skyblue'];

function color(){
	let current = 0;

	return function(){
		console.log(colors[current]);
		current = current < colors.length - 1 ? ++current : 0;
	}
}

let getColor = color();
getColor();
getColor();
getColor();
getColor();
getColor();
getColor();
getColor();
getColor();


// напиши функцию pluck, которая берет массив объектов и возвращает массив значений определенного поля: var characters = [
//   { 'name': 'barney', 'age': 36 },
//   { 'name': 'fred', 'age': 40 }
// ];

let arr = [ 
	{ 'name': 'barney', 'age': 36 },
	{ 'name': 'fred', 'age': 40 }
];

function pluck(ar, field){
	return ar.map(item => item[field]); // arr[0].name || arr[0]['name']
}

// function pluck(ar, field){
// 	let arr = [];
// 	ar.forEach(item => arr.push(item[field])); 
// 	return arr;
// }

// function pluck(ar, field){
// 	let arr = [];
// 	for(let i = 0; i < ar.length; i++){
// 		arr.push(ar[i][field]);
// 	}
// 	return arr;
// }

console.log(pluck(arr, 'name'));
console.log(pluck(arr, 'age'));

</script>

</body>
</html>