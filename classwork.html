<!DOCTYPE html>
<html lang="en">
<head>
	<title>JS FE</title> 
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1"> 
</head>
<body>
	Hello world!



<script>
	//HW
	// 1 sum(2)(3)(4)() *sum(2)(3)(4)

	function sum(a){
		let result = a;

		function sum2(b){
			if(b){
				result += b;
				return sum2;
			}
			else{
				return result;
			}
		}
		return sum2;
	}	


	console.log(sum(2)(3)());
	console.log(sum(2)(3)(4)());


	// 2 

	function ggg(num, fn){
		return fn(num);
	}

	console.log(ggg(2,num=> num*num)); // 2*2 => 4
	console.log(ggg(ggg(2, num=> num*num), num=> num*num)); // 16


// anonymous
(function(){
	console.warn('Anonymous');
})();

setTimeout(()=>{
console.log('Postponed!!');
}, 1000);


// 3

function each(arr, fn){ // функция принимает массив и фунцию как параметры
	let newArr = []; // создаем новый массив
	for(let i = 0; i < arr.length; i++){
		newArr[i] = fn(arr[i]); // 2 => pow2(2) => 4 
	}
	return newArr;
}

function pow2(n){
	return n*n;
}

function sum2(n){
	return n+2;
}

let arr1 = [2,3,4,5,6];
console.log(each(arr1,pow2));
console.log(each(arr1,sum2));
console.log(arr1);

// 4

function encode(str){
	if(str === ''){
		console.error('Can not encode empty string');
	}
	let encoded = '';
	let count = 1;
	let letter = str[0];

	for(let i = 1; i < str.length; i++){
		if(str[i] === letter){
			count += 1;
		}
		else{
			encoded += count + letter;
			// reset values
			count = 1;
			letter = str[i];
		}
	}
	encoded += count + letter;

	console.log(encoded);
}

encode('AAAABBBCCDAA');
encode('AAAABBBCCDAAR');


</script>

</body>
</html>