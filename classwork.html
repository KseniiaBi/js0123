<!DOCTYPE html>
<html lang="en">
<head>
	<title>JS FE</title> 
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1"> 
</head>
<body>
	Hello world!



<script>

// objects

let o = {
	name: 'John',
	lastname: 'Doe',
	age: 22,
	hobbys: ['art', 'photography', 'travelling'],
	isAdmin: false
}

console.log(o);
console.log(o.name);
console.log(o['lastname']);
// console.log(o[lastname]); // lastname is not defined

// mutable 
o.age += 1;

delete o.isAdmin;// will not left empty space

o.isAuthor = true;

// in - help us find property in object
let a = 10;
console.log(a in window);

console.log('name' in o);
console.log('girlfriend' in o);
o.girlfriend = 'Jane';
console.log('girlfriend' in o);


// loop

for(let prop in o){
	console.log(`${prop}: ${o[prop]}`);
}

let admin = {
	name: 'Admin',
	// property-function calls method
	administrate: function(){
		console.log('Admin is administrating');
	},
	sayHi(msg = 'Hi'){
		console.log(`${msg}, I am ${admin.name}`);
	}
}

admin.administrate();
admin.sayHi();
admin.sayHi('Good evening');


// days ru/en

let days = {
	ru: ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб', 'Вс'],
	en: ['Mo', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
}

function typeDay(n, lang){
	if(typeof n !== 'number' || n > 7 || n < 1 || lang != 'ru' && lang != 'en'){
		console.error('Not a day');
	}
	else{
		console.log(days[lang][n]);
	}
}
typeDay(5, 'ru');
typeDay(2, 'en');
typeDay(5, 'fr');
typeDay(51, 'ru');


// ({start,end} ) => sum 
let obj = {
	start: 4,
	end: 10
}

function sumObj(obj){
	let sum = 0;
	let start = Math.min(obj.end, obj.start);
	let end = obj.start < obj.end ? obj.end : obj.start;

	for(let i = start; i <= end; i++){
		sum += i;
	}
	console.log(`sum = ${sum}`);
}

sumObj(obj);
sumObj({start: 12, end: 8});


// count all instances of letter (arg)

let s = {
	name: 'Anna',
	city: 'Los Angeles',
	hobbys: ['art', 'football'],
	biography: {
		born: 'Saint Louis',
		graduated: 'Princeton',
		married: 'Alfred Doe'
	}
}

function countLetter(str, letter){
	let count = 0;
	for(char of str){
		if(char === letter){
			count++;
		}
	}
	return count;
}
console.log(countLetter('bubble', 'b')); // testing function

function findLettersInObject(obj, letter){
	let total = 0;
	for(let key in obj){
		// перебираем свойства обьекта, который пришел в функцию и определяем какого типа наши значения свойств
		if(typeof obj[key] == 'string'){  // строка
			total += countLetter(obj[key], letter);
		}
		else if(typeof obj[key] == 'object' && obj[key].length > 0){ // массив
			for(let item of obj[key]){ // в массиве нужно перебрать каждый его элемент
				total += countLetter(item, letter);
			}
		}
		else if(typeof obj[key] == 'object' && !obj[key].length ){ // обьект
			total += findLettersInObject(obj[key], letter);// вызываем рекурсивно findLettersInObject
		}
	}
	return total;
}

console.log(findLettersInObject(s, 'a'));

//
let numbers = {
	a: 5,
	b: 7,
	c: 8, 
	d: 2,
	e: 4,
	f: 3,
	g: 'admin',
	h: [1,2,3]
}

// obj to arr

function numsFromObjToArr(obj){
	let arr = [];
	let index = 0;
	for(let prop in obj){
		if(typeof obj[prop] == 'number'){
			arr[index] = obj[prop];
			index++;
		}
	}
	console.log(arr);
}

numsFromObjToArr(numbers);


// HW 1) допилить функцию numsFromObjToArr, чтобы она могла находить числа внутри дочерних обьектов или массивов


// num => {1:, 2: , 3 ... 9:}

function foo(n){
	let o = {}; // создаем обьект, в котором будем записывать какая цифра сколько раз встречается в числах от 1 до n
	for(let i = 1; i <= n; i++){
		let num = String(i); // превращаем число в строку, чтобы иметь возможность перебирать двухзначные и трехзначные числа
		for(let char of num){ // итерируем числа побуквенно 12=> 1 и 2
			if(char in o){ //если такую букву (цифры) мы уже записывали в обьект, то
				o[char]++;  // плюсуем единицу к количеству такой буквы (цифры)
			}
			else{ // если такую букву (цифры) мы не записывали в обьект, то
				o[char] = 1; // записываем в обьект новое свойство с этой цифрой и количеством 1
			}
		}
	}
	console.log(o);
}

foo(50);



</script>

</body>
</html>